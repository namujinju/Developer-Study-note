def findUnsortedSubarray(nums):
    n = len(nums)
    srtd = sorted(nums)
    for i in range(n):
        if nums[i] != srtd[i]:
            left = i
            break
    else:
        return 0

    for i in range(n-1, 0-1, -1):
        if nums[i] != srtd[i]:
            right = i
            break

    return right-left+1


nums = [2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4,
        8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 2, 6, 4, 8, 10, 9, 15, 4]
print(findUnsortedSubarray(nums))
